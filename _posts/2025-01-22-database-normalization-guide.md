---
layout: post
title: "Database normalization guide"
date: 2025-01-22 16:04:17 +0900
categories: 
tags: [Processing, License]
---

# 데이터베이스 정규화 완벽 가이드

> 출제 빈도: 상  
> 빈출 태그: 종속성, 정규화 단계, 이상 현상

## 데이터 종속성 (Data Dependency)

### 기본 개념
* **정의**: 데이터와 또 다른 데이터가 서로 의존관계를 가지는 것
  * A가 변경될 때 B도 변경되고, A가 삭제될 때 B도 삭제됨
* 데이터 종속성으로 인해 변경, 삽입, 삭제 등 제약이 따르거나 무결성이 훼손됨
* **종류**: 함수 종속, 다가(다치)종속, 조인 종속

### 함수 종속 (Functional Dependency)
* 한 속성이 다른 속성을 유일하게 식별할 수 있는 상태
* A속성이 B속성을 유일하게 식별: `A -> B`
* **구성요소**:
  * 결정자(Determinant): 종속성 규명의 기준 속성, 유일함, 중복 비허용
  * 종속자(Dependent): 결정자에 의해 값이 정해지는 속성, 중복 허용

### 다가(다치) 종속 (MultiValued Dependency)
* 하나의 결정자가 다른 여러 관련없는 속성의 값을 결정함
* 종속자끼리는 서로 관련이 없음
* 표기: `G ->> H | J`
* 예시: 학번 -> 이름 | 대여횟수

### 조인 종속 (Join Dependency)
* 셋 이상의 릴레이션으로 분해한 뒤 다시 조인하여 복원할 수 있음
* 공통키를 기준으로 다시 조인되어 복원할 수 있어야 함

## 페포 (Closure)

### 기본 개념
* **정의**: 특정 속성에 종속되었다고 추론 가능한 모든 속성의 집합
* 예: 회원번호 속성의 폐포 = 회원번호+

### 종속성 추론 규칙
1. **반사(Reflexicity)**: Y가 X의 부분집합일 때 X->Y 성립
2. **증가(Augmentation)**: X->Y이면 XZ->YZ 성립
3. **이행(Transitivity)**: X->Y이고 Y->Z이면 X->Z 성립
4. **결합(Union)**: X->Y이고 X->Z이면 X->YZ 성립
5. **분해(Decomposition)**: X->YZ이면 X->Y이고 X->Z 성립
6. **의사이행(Pseudo Transitivity)**: X->Y이고 YZ->W이면, XZ->W 성립

## 정규화 (Normalization)

### 개념
* **정의**: 중복성을 최소화하고 정보의 일관성을 보장
* 논리 데이터 모델링 상세화에 가장 중요한 단계

### ⭐정규형 단계⭐
* **비정규형**: 정규화 진행 안된 상태
* **기본 정규형**:
  * 1NF
  * 2NF (부분 함수 종속 제거)
  * 3NF (이행적 함수 종속 제거)
  * BCNF
* **고급 정규형**:
  * 4NF (다치 종속 제거)
  * 5NF (조인 종속 제거)

### 정규화 특징
* 정확성, 일치성, 단순성, 비중복성, 안정성 보장
* 분해 판단기준 제공
* 무결성 유지 가능
* 유연한 데이터 구축 가능 (단, 물리적 접근경로 복잡화)

### 이상 현상
* **목적**: 데이터 삽입, 갱신, 삭제에서 발생하는 이상현상 제거
* **종류**:
  * 삽입 이상: 튜플 삽입 시 관련없는 정보 함께 삽입
  * 갱신 이상: 튜플 갱신 시 데이터 불일치
  * 삭제 이상: 튜플 삭제 시 관련된 정보 함께 삭제

### 정규형 단계별 설명
1. **제1정규형 (1NF)**
   * 모든 속성의 도메인이 원자값을 가짐
   * 원자값이 아닌 값을 가지는 속성 제거
   * 중복 제거가 아닌 원자값 보장

2. **제2정규형 (2NF)**
   * 모든 속성이 완전 함수 종속을 가짐
   * 완전 함수 종속: 종속자가 모든 결정자에 종속
   * 부분 함수 종속: 종속자가 일부 결정자에 종속
   * 예시: 
     * 부분함수종속: 학번->이름
     * 완전함수종속: {학번,과목}->성적

3. **제3정규형 (3NF)**
   * 이행적 함수 종속을 가진 속성이 제거된 릴레이션 스키마
   * 예시: 도서코드->도서명, 도서명->저자, 도서코드->저자
   * 모든 속성이 릴레이션의 기본키에 이행적으로 종속되지 않음

4. **BCNF (Boyce-Codd 정규형)**
   * 결정자가 후보키가 아닌 함수 종속이 제거된 스키마
   * 릴레이션이 3NF이고 모든 결정자가 후보키
   * 실제적인 정규화의 목표가 되는 단계

5. **제4정규형 (4NF)**
   * 다치종속성을 가진 속성을 제거
   * 예: 과목 ->> 강사 | 프로그램

6. **제5정규형 (5NF)**
   * 조인 종속을 제거
   * 조인 종속성이 후보키를 통해서만 성립

## 논리 데이터 모델 품질 검증

### 좋은 데이터 모델의 조건
* 요구사항이 빠짐없이 구현
* 시스템 운영에 최적화
* (단, 객관적인 기준이 없어 평가가 어려움)

### 데이터 모델의 평가요소
* **완전성**: 완전히(빠짐없이) 품질 평가
* **중복 배제**: 필요에 따라 데이터를 일부러 중복시킴
* **업무 규칙**: 이해관계자들이 동일한 판단 하에 데이터 조작
* **데이터 재사용**: 통합 설계를 통한 재사용성 향상
* **안정성 및 확장성**
* **간결성**
* **의사소통**

### 논리 데이터 모델 품질 기준
* 정확성
* 완전성 (누락 최소화)
* 준거성 (데이터 표준, 표준화 규칙, 법적 요건 준수)
* 최신성
* 일관성 (통합성)
* 활용성