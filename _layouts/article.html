---
layout: default
---

<div class="home mt-5">

  {{ content }}

  {%- if site.posts.size > 0 -%}
    <!-- ê²€ìƒ‰ ê¸°ëŠ¥ -->
    <div class="search-container mb-4">
      <div class="search-wrapper">
        <input type="text" id="searchInput" placeholder="í¬ìŠ¤íŠ¸ ì œëª©ì´ë‚˜ ë‚´ìš©ìœ¼ë¡œ ê²€ìƒ‰í•˜ì„¸ìš”..." class="search-input" aria-label="í¬ìŠ¤íŠ¸ ê²€ìƒ‰">
        <div class="search-icon" aria-hidden="true"><i class="bi bi-search"></i></div>
        <button class="search-clear" id="clearSearch" style="display: none;" aria-label="ê²€ìƒ‰ì–´ ì§€ìš°ê¸°" tabindex="0">Ã—</button>
      </div>
      <div class="search-stats" id="searchStats">ì´ {{ site.posts.size }}ê°œì˜ í¬ìŠ¤íŠ¸</div>
    </div>

    <!-- ë³´ê¸° ì˜µì…˜ -->
    <div class="view-controls mb-3">
      <div class="view-options">
        <button id="toggleView" class="btn btn-outline-secondary btn-sm">
          <span id="toggleText">ğŸ“‹ ê°„ë‹¨íˆ ë³´ê¸°</span>
        </button>
        <select id="postsPerPage" class="form-select form-select-sm d-inline-block" style="width: auto;">
          <option value="5">5ê°œì”© ë³´ê¸°</option>
          <option value="10" selected>10ê°œì”© ë³´ê¸°</option>
          <option value="20">20ê°œì”© ë³´ê¸°</option>
          <option value="all">ì „ì²´ ë³´ê¸°</option>
        </select>
      </div>
    </div>

    <!-- í¬ìŠ¤íŠ¸ ëª©ë¡ -->
    <ul class="post-list p-0" role="list" id="postList">
      {%- for post in site.posts -%}
      <li class="post-item" 
          data-title="{{ post.title | downcase | escape }}"
          data-content="{{ post.excerpt | strip_html | downcase | escape }}"
          data-tags="{{ post.tags | join: ' ' | downcase | escape }}"
          data-index="{{ forloop.index0 }}"
          role="listitem">
        {%- assign date_format = site.minima.date_format | default: "%Yë…„ %mì›” %dì¼" -%}
        <time class="post-meta" datetime="{{ post.date | date_to_xmlschema }}">
          {{ post.date | date: date_format }}
        </time>
        <h3>
          <a class="post-link text-decoration-none text-white" href="{{ post.url | relative_url }}">
            {{ post.title | escape }}
          </a>
        </h3>
        
        <!-- íƒœê·¸ëŠ” í•­ìƒ í‘œì‹œ -->
        {%- if post.tags and post.tags.size > 0 -%}
          <div class="post-tags" role="list" aria-label="í¬ìŠ¤íŠ¸ íƒœê·¸">
            {%- for tag in post.tags limit: 3 -%}
              <span class="post-tag" role="listitem">{{ tag | escape }}</span>
            {%- endfor -%}
            {%- if post.tags.size > 3 -%}
              <span class="post-tag-more">+{{ post.tags.size | minus: 3 }}</span>
            {%- endif -%}
          </div>
        {%- endif -%}
        
        <!-- ìƒì„¸ ë‚´ìš© (ìƒì„¸íˆ ë³´ê¸° ëª¨ë“œì—ì„œë§Œ í‘œì‹œ) -->
        <div class="post-details">
          {%- if site.show_excerpts and post.excerpt -%}
            <div class="post-excerpt-wrapper">
              {{ post.excerpt | strip_html | truncatewords: 30 }}
            </div>
          {%- elsif post.content -%}
            <div class="post-excerpt-wrapper">
              {{ post.content | strip_html | truncatewords: 30 }}
            </div>
          {%- endif -%}
        </div>
      </li>
      {%- endfor -%}
    </ul>

    <!-- í˜ì´ì§• -->
    <div class="pagination-container text-center mt-4" id="paginationContainer">
      <nav aria-label="í¬ìŠ¤íŠ¸ í˜ì´ì§€ ë„¤ë¹„ê²Œì´ì…˜">
        <ul class="pagination justify-content-center" id="pagination">
          <!-- í˜ì´ì§• ë²„íŠ¼ë“¤ì´ JavaScriptë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
        </ul>
      </nav>
      
      <!-- ë” ë³´ê¸° ë²„íŠ¼ (ë¬´í•œ ìŠ¤í¬ë¡¤ ìŠ¤íƒ€ì¼) -->
      <button class="btn btn-secondary load-more-btn" id="loadMoreBtn" style="display: none;">
        <span class="load-more-text">ë” ë³´ê¸°</span>
        <span class="load-more-count"></span>
      </button>
    </div>

    <!-- ê²€ìƒ‰ ê²°ê³¼ ì—†ìŒ -->
    <div class="no-results" id="noResults" style="display: none;" role="status" aria-live="polite">
      <div class="no-results-content">
        <div class="no-results-icon" aria-hidden="true">ğŸ”</div>
        <h3>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</h3>
        <p>ë‹¤ë¥¸ í‚¤ì›Œë“œë¡œ ë‹¤ì‹œ ê²€ìƒ‰í•´ë³´ì„¸ìš”</p>
      </div>
    </div>

    <!-- RSS êµ¬ë… -->
    <div class="rss-subscribe mt-4">
      <p>
        <a href="{{ "/feed.xml" | relative_url }}" class="text-decoration-none">
          ğŸ“¡ RSSë¡œ êµ¬ë…í•˜ê¸°
        </a>
      </p>
    </div>
  {%- else -%}
    <div class="no-posts-message text-center">
      <h2>ì•„ì§ í¬ìŠ¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤</h2>
      <p>ì²« ë²ˆì§¸ í¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ë³´ì„¸ìš”!</p>
    </div>
  {%- endif -%}
</div>

<style>
/* ê°„ë‹¨ ë³´ê¸° ëª¨ë“œ */
.simple-view .post-details {
  display: none;
}

.simple-view .post-item {
  padding: 0.8rem 0;
  border-bottom: 1px solid #eee;
  margin-bottom: 0.5rem;
}

.simple-view .post-item h3 {
  font-size: 1.1rem;
  margin: 0.3rem 0;
}

.simple-view .post-meta {
  font-size: 0.85rem;
  color: #b9b9b9;
}

.simple-view .post-tags {
  margin-top: 0.5rem;
}

/* ìƒì„¸ ë³´ê¸° ëª¨ë“œ */
.post-details {
  margin-top: 0.8rem;
}

.post-excerpt-wrapper {
  color: #b9b9b9;
  font-size: 0.9rem;
  line-height: 1.5;
  margin-bottom: 0.5rem;
}

.post-tags {
  margin-top: 0.5rem;
}

.post-tag {
  display: inline-block;
  background: #888888;
  color: #ffffff;
  padding: 0.2rem 0.6rem;
  margin: 0.1rem 0.2rem 0.1rem 0;
  border-radius: 15px;
  font-size: 0.75rem;
  font-weight: 500;
}

/* ë·° ì»¨íŠ¸ë¡¤ */
.view-controls {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 1rem;
}

.view-options {
  display: flex;
  gap: 1rem;
  align-items: center;
}

/* ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ */
.load-more-btn:disabled {
  opacity: 0.6;
}

.loading .load-more-text::after {
  content: '...';
  animation: dots 1.5s infinite;
}

@keyframes dots {
  0%, 20% { content: '...'; }
  40% { content: '....'; }
  60% { content: '.....'; }
  80%, 100% { content: '...'; }
}

/* í˜ì´ì§€ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜ */
.post-item.fade-out {
  opacity: 0;
  transform: translateY(-10px);
  transition: all 0.3s ease;
}

.post-item.fade-in {
  opacity: 1;
  transform: translateY(0);
  transition: all 0.3s ease;
}

/* ë°˜ì‘í˜• */
@media (max-width: 768px) {
  .view-controls {
    flex-direction: column;
    align-items: stretch;
  }
  
  .view-options {
    justify-content: space-between;
  }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // ì „ì—­ ë³€ìˆ˜
    let currentPage = 1;
    let postsPerPage = 10;
    let isSimpleView = false;
    let filteredPosts = [];
    let allPosts = [];
    
    // ìš”ì†Œ ì°¸ì¡°
    const postItems = document.querySelectorAll('.post-item');
    const postList = document.getElementById('postList');
    const paginationContainer = document.getElementById('paginationContainer');
    const pagination = document.getElementById('pagination');
    const loadMoreBtn = document.getElementById('loadMoreBtn');
    const toggleViewBtn = document.getElementById('toggleView');
    const postsPerPageSelect = document.getElementById('postsPerPage');
    const searchInput = document.getElementById('searchInput');
    
    // ì´ˆê¸°í™”
    init();
    
    function init() {
        allPosts = Array.from(postItems);
        filteredPosts = [...allPosts];
        
        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        toggleViewBtn.addEventListener('click', toggleView);
        postsPerPageSelect.addEventListener('change', changePostsPerPage);
        loadMoreBtn.addEventListener('click', loadMore);
        
        // ì´ˆê¸° í˜ì´ì§• ì„¤ì •
        updateDisplay();
        initSearch();
        
        // ì• ë‹ˆë©”ì´ì…˜ ì´ˆê¸°í™”
        if (typeof gsap !== 'undefined') {
            initAnimations();
        }
    }
    
    function toggleView() {
        isSimpleView = !isSimpleView;
        const toggleText = document.getElementById('toggleText');
        
        if (isSimpleView) {
            postList.classList.add('simple-view');
            toggleText.innerHTML = 'ğŸ“„ ìƒì„¸íˆ ë³´ê¸°';
        } else {
            postList.classList.remove('simple-view');
            toggleText.innerHTML = 'ğŸ“‹ ê°„ë‹¨íˆ ë³´ê¸°';
        }
    }
    
    function changePostsPerPage() {
        const value = postsPerPageSelect.value;
        const newPostsPerPage = value === 'all' ? filteredPosts.length : parseInt(value);
        
        // í˜„ì¬ ë³´ê³  ìˆë˜ ì²« ë²ˆì§¸ í¬ìŠ¤íŠ¸ì˜ ì¸ë±ìŠ¤ ê³„ì‚°
        const currentFirstPostIndex = (currentPage - 1) * postsPerPage;
        
        // ìƒˆë¡œìš´ í˜ì´ì§€ í¬ê¸°ë¡œ í•´ë‹¹ í¬ìŠ¤íŠ¸ê°€ ì–´ëŠ í˜ì´ì§€ì— ìˆëŠ”ì§€ ê³„ì‚°
        const newPage = Math.floor(currentFirstPostIndex / newPostsPerPage) + 1;
        
        postsPerPage = newPostsPerPage;
        currentPage = Math.max(1, Math.min(newPage, Math.ceil(filteredPosts.length / postsPerPage)));
        
        updateDisplay();
    }
    
    function updateDisplay() {
        const totalPosts = filteredPosts.length;
        
        if (totalPosts === 0) {
            // í¬ìŠ¤íŠ¸ê°€ ì—†ëŠ” ê²½ìš°
            allPosts.forEach(post => post.style.display = 'none');
            updateStats(0, 0, 0);
            updatePagination(0);
            return;
        }
        
        const totalPages = Math.ceil(totalPosts / postsPerPage);
        
        // í˜„ì¬ í˜ì´ì§€ê°€ ìœ íš¨í•œ ë²”ìœ„ì— ìˆëŠ”ì§€ í™•ì¸
        if (currentPage > totalPages) {
            currentPage = totalPages;
        }
        if (currentPage < 1) {
            currentPage = 1;
        }
        
        // ëª¨ë“  í¬ìŠ¤íŠ¸ ìˆ¨ê¸°ê¸°
        allPosts.forEach(post => post.style.display = 'none');
        
        // í˜„ì¬ í˜ì´ì§€ í¬ìŠ¤íŠ¸ë§Œ í‘œì‹œ
        const startIndex = (currentPage - 1) * postsPerPage;
        const endIndex = Math.min(startIndex + postsPerPage, totalPosts);
        
        for (let i = startIndex; i < endIndex; i++) {
            if (filteredPosts[i]) {
                filteredPosts[i].style.display = '';
            }
        }
        
        // UI ì—…ë°ì´íŠ¸
        updatePagination(totalPages);
        updateLoadMoreButton(totalPosts, endIndex);
        updateStats(totalPosts, startIndex + 1, endIndex);
    }
    
    function updatePagination(totalPages) {
        const paginationContainer = document.getElementById('paginationContainer');
        const pagination = document.getElementById('pagination');
        
        if (postsPerPage >= filteredPosts.length || totalPages <= 1) {
            paginationContainer.style.display = 'none';
            return;
        }
        
        paginationContainer.style.display = 'block';
        loadMoreBtn.style.display = 'none';
        
        // í˜„ì¬ í˜ì´ì§€ê°€ ì´ í˜ì´ì§€ ìˆ˜ë¥¼ ì´ˆê³¼í•˜ëŠ” ê²½ìš° ì¡°ì •
        if (currentPage > totalPages) {
            currentPage = totalPages;
        }
        
        let paginationHTML = '';
        
        // ì´ì „ ë²„íŠ¼
        paginationHTML += `
          <li class="page-item ${currentPage === 1 ? 'disabled' : ''}">
            <a class="page-link" href="#" data-page="${Math.max(1, currentPage - 1)}" aria-label="ì´ì „">
              <span aria-hidden="true">&laquo;</span>
            </a>
          </li>
        `;
        
        // í˜ì´ì§€ ë²ˆí˜¸ë“¤
        const maxVisiblePages = 5;
        let startPage = Math.max(1, currentPage - Math.floor(maxVisiblePages / 2));
        let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);
        
        if (endPage - startPage < maxVisiblePages - 1) {
            startPage = Math.max(1, endPage - maxVisiblePages + 1);
        }
        
        // ì²« í˜ì´ì§€ í‘œì‹œ (startPageê°€ 1ì´ ì•„ë‹ ë•Œ)
        if (startPage > 1) {
            paginationHTML += `<li class="page-item"><a class="page-link" href="#" data-page="1">1</a></li>`;
            if (startPage > 2) {
                paginationHTML += `<li class="page-item disabled"><span class="page-link">...</span></li>`;
            }
        }
        
        for (let i = startPage; i <= endPage; i++) {
            paginationHTML += `
              <li class="page-item ${i === currentPage ? 'active' : ''}">
                <a class="page-link" href="#" data-page="${i}">${i}</a>
              </li>
            `;
        }
        
        // ë§ˆì§€ë§‰ í˜ì´ì§€ í‘œì‹œ (endPageê°€ totalPagesê°€ ì•„ë‹ ë•Œ)
        if (endPage < totalPages) {
            if (endPage < totalPages - 1) {
                paginationHTML += `<li class="page-item disabled"><span class="page-link">...</span></li>`;
            }
            paginationHTML += `<li class="page-item"><a class="page-link" href="#" data-page="${totalPages}">${totalPages}</a></li>`;
        }
        
        // ë‹¤ìŒ ë²„íŠ¼
        paginationHTML += `
          <li class="page-item ${currentPage === totalPages ? 'disabled' : ''}">
            <a class="page-link" href="#" data-page="${Math.min(totalPages, currentPage + 1)}" aria-label="ë‹¤ìŒ">
              <span aria-hidden="true">&raquo;</span>
            </a>
          </li>
        `;
        
        pagination.innerHTML = paginationHTML;
        
        // ê¸°ì¡´ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì œê±° í›„ ìƒˆë¡œ ì¶”ê°€
        const newPagination = pagination.cloneNode(true);
        pagination.parentNode.replaceChild(newPagination, pagination);
        
        // í˜ì´ì§€ í´ë¦­ ì´ë²¤íŠ¸ ì¬ë“±ë¡
        newPagination.addEventListener('click', function(e) {
            e.preventDefault();
            const link = e.target.closest('.page-link');
            if (link && !link.closest('.disabled') && !link.closest('.active')) {
                const page = parseInt(link.dataset.page);
                if (page && page !== currentPage && page >= 1 && page <= totalPages) {
                    goToPage(page);
                }
            }
        });
    }
    
    function updateLoadMoreButton(totalPosts, currentEndIndex) {
        const remaining = totalPosts - currentEndIndex;
        
        if (remaining > 0 && postsPerPage < filteredPosts.length) {
            loadMoreBtn.style.display = 'block';
            const loadMoreCount = document.querySelector('.load-more-count');
            loadMoreCount.textContent = `(${remaining}ê°œ ë”)`;
        } else {
            loadMoreBtn.style.display = 'none';
        }
    }
    
    function loadMore() {
        const button = loadMoreBtn;
        button.disabled = true;
        button.classList.add('loading');
        
        setTimeout(() => {
            postsPerPage += 10;
            updateDisplay();
            button.disabled = false;
            button.classList.remove('loading');
        }, 500);
    }
    
    function goToPage(page) {
        // í˜ì´ë“œ ì•„ì›ƒ íš¨ê³¼
        const visiblePosts = allPosts.filter(post => post.style.display !== 'none');
        visiblePosts.forEach(post => post.classList.add('fade-out'));
        
        setTimeout(() => {
            currentPage = page;
            updateDisplay();
            
            // í˜ì´ë“œ ì¸ íš¨ê³¼
            const newVisiblePosts = allPosts.filter(post => post.style.display !== 'none');
            newVisiblePosts.forEach(post => {
                post.classList.remove('fade-out');
                post.classList.add('fade-in');
            });
            
            // í˜ì´ì§€ ìƒë‹¨ìœ¼ë¡œ ìŠ¤í¬ë¡¤
            document.querySelector('.post-list').scrollIntoView({ 
                behavior: 'smooth', 
                block: 'start' 
            });
        }, 300);
    }
    
    function updateStats(total, start, end) {
        const searchStats = document.getElementById('searchStats');
        if (searchInput.value.trim()) {
            searchStats.textContent = `${total}ê°œì˜ ê²€ìƒ‰ ê²°ê³¼ ì¤‘ ${start}-${end}ë²ˆì§¸`;
        } else {
            if (total === allPosts.length) {
                searchStats.textContent = `ì´ ${total}ê°œì˜ í¬ìŠ¤íŠ¸ ì¤‘ ${start}-${end}ë²ˆì§¸`;
            } else {
                searchStats.textContent = `${total}ê°œì˜ ê²€ìƒ‰ ê²°ê³¼ ì¤‘ ${start}-${end}ë²ˆì§¸`;
            }
        }
    }
    
    function initSearch() {
        let searchTimeout;
        
        searchInput.addEventListener('input', function(e) {
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(() => {
                performSearch(e.target.value);
            }, 300);
        });
        
        // ê²€ìƒ‰ì–´ ì§€ìš°ê¸° ë²„íŠ¼
        const clearButton = document.getElementById('clearSearch');
        clearButton.addEventListener('click', function() {
            searchInput.value = '';
            searchInput.focus();
            performSearch('');
        });
    }
    
    function performSearch(query) {
        const searchTerm = query.toLowerCase().trim();
        
        if (!searchTerm) {
            filteredPosts = [...allPosts];
        } else {
            filteredPosts = allPosts.filter(item => {
                const title = item.dataset.title || '';
                const content = item.dataset.content || '';
                const tags = item.dataset.tags || '';
                
                return title.includes(searchTerm) || 
                       content.includes(searchTerm) || 
                       tags.includes(searchTerm);
            });
        }
        
        currentPage = 1;
        updateDisplay();
        
        // ê²€ìƒ‰ ê²°ê³¼ ì—†ìŒ ì²˜ë¦¬
        const noResults = document.getElementById('noResults');
        noResults.style.display = searchTerm && filteredPosts.length === 0 ? 'block' : 'none';
        
        // ê²€ìƒ‰ì–´ ì§€ìš°ê¸° ë²„íŠ¼
        const clearButton = document.getElementById('clearSearch');
        clearButton.style.display = searchTerm ? 'block' : 'none';
    }
    
    function initAnimations() {
        gsap.registerPlugin(ScrollTrigger);
        
        const title = document.querySelector('.animated-title');
        if (title) {
            gsap.from(title, {
                duration: 1,
                y: -50,
                opacity: 0,
                ease: 'power3.out'
            });
        }
    }
});
</script>


  <style>
    .container {
      position: relative;
      display: inline-block;
    }

    .soft-filter {
        display: block;
        width: 200px;
        height: auto;
        filter: blur(0.4px) brightness(0.9) saturate(1) contrast(1.1);
        border-radius: 15px;
        border: 1px gray solid;
    }

    .overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      background: rgba(255, 255, 255, 0.1);
      mix-blend-mode: screen;
      border-radius: 12px;
    }
  </style>
